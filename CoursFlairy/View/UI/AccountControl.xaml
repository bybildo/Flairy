<UserControl x:Class="CoursFlairy.View.UI.AccountControl"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:local="clr-namespace:CoursFlairy.View.UI"
             xmlns:converter="clr-namespace:CoursFlairy.ViewModel.Converter.SearchPage"
             mc:Ignorable="d" 
             d:DesignHeight="800" d:DesignWidth="450">
    <UserControl.Resources>
        <Style TargetType="TextBox">
            <Setter Property="VerticalContentAlignment" Value="Center"/>
            <Setter Property="FontSize" Value="30"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="TextBox">
                        <Border Background="Transparent" BorderBrush="Transparent" BorderThickness="0">
                            <ScrollViewer x:Name="PART_ContentHost" />
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <DashStyle x:Key="DottedUnderline" Dashes="9, 7"/>

        <Style TargetType="PasswordBox">
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="BorderBrush" Value="Transparent"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="FocusVisualStyle" Value="{x:Null}"/>
        </Style>

        <converter:TextToVisibilityConverter x:Key="TextToVisibilityConverter"/>
    </UserControl.Resources>
    
    <Grid x:Name="MainGrid">
        <Grid.RowDefinitions>
            <RowDefinition Height="1.5*"/>
            <RowDefinition Height="3*"/>
        </Grid.RowDefinitions>

        <Border Background="White" CornerRadius="10" Opacity="1">
            <Border.Effect>
                <DropShadowEffect BlurRadius="4" ShadowDepth="1" Color="{DynamicResource Shadow}" Direction="270" Opacity="0.3" />
            </Border.Effect>
        </Border>
        
        <Grid x:Name="LoginGrid">
            <Grid.RowDefinitions>
                <RowDefinition Height="12*"/>
                <RowDefinition Height="40*"/>
                <RowDefinition Height="10*"/>
                <!--логін-->
                <RowDefinition Height="0"/>
                <RowDefinition Height="0"/>
                <RowDefinition Height="40*"/>
                <RowDefinition Height="10*"/>
                <!--пароль-->
                <RowDefinition Height="0"/>
                <RowDefinition Height="0"/>
                <RowDefinition Height="40*"/>
                <RowDefinition Height="4*"/>
                <!--запамятати-->
                <RowDefinition Height="18*"/>
                <RowDefinition Height="8*"/>
                <!--кнопка вхід-->
                <RowDefinition Height="40*"/>
                <RowDefinition Height="5*"/>
                <!--немає акаунта-->
                <RowDefinition Height="16*"/>
                <RowDefinition Height="13*"/>
            </Grid.RowDefinitions>

            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="1*"/>
                <ColumnDefinition Width="9*"/>
                <ColumnDefinition Width="1*"/>
            </Grid.ColumnDefinitions>

            <!--Головний надпис-->
            <Viewbox Grid.Row="1" Grid.ColumnSpan="3">
                <TextBlock Text="Вхід" FontFamily="{DynamicResource BlackerSans Pro It Variable}" FontWeight="Light" Foreground="{DynamicResource Black}"/>
            </Viewbox>

            <!--Напис логін-->
            <Viewbox Grid.Row="3" Grid.Column="1" HorizontalAlignment="Left" Margin="2, 0, 0, 0">
                <TextBlock Text="Логін:" FontFamily="{DynamicResource BlackerSans Pro It Variable}" FontWeight="Light" Foreground="{DynamicResource Black}" />
            </Viewbox>

            <!--Ввід логіну-->
            <Border x:Name="loginBorder" BorderBrush="{DynamicResource MainColor20}" Background="Transparent" BorderThickness="1" Grid.Column="1" Grid.Row="5" CornerRadius="8">
                <Grid Margin="10, 0, 10, 0">
                    <TextBlock Text="Логін, пошта або телефон" FontSize="17" Margin="2,0,0,0"  Foreground="{DynamicResource HintColor}" Opacity="0.6" VerticalAlignment="Center" Visibility="{Binding ElementName=login, Path=Text, Mode=OneWay, Converter={StaticResource TextToVisibilityConverter}}"/>
                    <ScrollViewer VerticalScrollBarVisibility="Disabled" HorizontalScrollBarVisibility="Hidden" PanningMode="HorizontalOnly" PreviewMouseWheel="ScrollViewer_PreviewHorizontalMouseWheel">
                        <TextBox x:Name="login" Foreground="{DynamicResource Black}" FontSize="19" FontFamily="Bahnschrift" MaxLength="100" TextChanged="login_TextChanged" PreviewKeyDown="KeyControl"/>
                    </ScrollViewer>
                </Grid>
            </Border>

            <!--Напис пароль-->
            <Viewbox Grid.Row="7" Grid.Column="1" HorizontalAlignment="Left" Margin="2, 0, 0, 0">
                <TextBlock Text="Пароль: " FontFamily="{DynamicResource BlackerSans Pro It Variable}" FontWeight="Light" Foreground="{DynamicResource Black}"/>
            </Viewbox>

            <!--Ввід паролю-->
            <Border Name="passwordBorder" BorderBrush="{DynamicResource MainColor20}" Background="Transparent" BorderThickness="1" Grid.Column="1" Grid.Row="9" CornerRadius="8">
                <Grid Margin="10, 0, 10, 0">
                    <TextBlock Text="Пароль" Name="PasswordHint" FontSize="17" Margin="2,0,0,0"  Foreground="{DynamicResource HintColor}" Opacity="0.6" VerticalAlignment="Center"/>
                    <ScrollViewer VerticalScrollBarVisibility="Disabled" HorizontalScrollBarVisibility="Hidden" PanningMode="HorizontalOnly" PreviewMouseWheel="ScrollViewer_PreviewHorizontalMouseWheel">
                        <PasswordBox x:Name="password" Foreground="{DynamicResource Black}" FontSize="15" FontFamily="Bahnschrift" VerticalAlignment="Center" MaxLength="20" PasswordChanged="password_PasswordChanged" PreviewKeyDown="KeyControl"/>
                    </ScrollViewer>
                </Grid>
            </Border>

            <!--Запам'ятати-->
            <Viewbox Margin="0, 0, 0, 0" Grid.Row="11" Grid.Column="1" HorizontalAlignment="Right">
                <StackPanel Orientation="Horizontal" HorizontalAlignment="Right">
                    <TextBlock x:Name="RememberText" Text="Запам'ятати мене" VerticalAlignment="Center" Foreground="{DynamicResource HintColor}" Opacity="0.9" FontSize="15" Margin="0, 0, 5, 0"/>
                    <CheckBox x:Name="rememberBox" VerticalAlignment="Center" Opacity="0.9" Margin="0, 2, 0, 0" BorderBrush="{DynamicResource MainColor20}" Checked="Remember_Checked" Unchecked="Remember_Checked" />
                </StackPanel>
            </Viewbox>

            <!--Кнопка-->
            <Border x:Name="SearchButton" Background="{DynamicResource MainColor20}" Grid.Column="1" Grid.Row="13" CornerRadius="8" MouseDown="LoginUser_MouseDown">
                <TextBlock Background="Transparent" Foreground="{DynamicResource White}" Text="Увійти" FontSize="22" FontFamily="Bahnschrift" VerticalAlignment="Center" HorizontalAlignment="Center"/>
            </Border>

            <!--Немає акаунта-->
            <Viewbox Grid.Row="15" Grid.Column="1" VerticalAlignment="Center" HorizontalAlignment="Center">
                <StackPanel Orientation="Horizontal">
                    <TextBlock Text="Немає акаунту? " Foreground="{DynamicResource HintColor}" Opacity="0.8"/>
                    <TextBlock Text="Зареєструватися" Foreground="{DynamicResource HintColor}" Background="Transparent" MouseEnter="RegistrationUser_MouseEnter" MouseLeave="RegistrationUser_MouseLeave" MouseDown="RegistrationUser_MouseDown" Opacity="0.8">
                        <TextBlock.TextDecorations>
                            <TextDecoration Location="Underline">
                                <TextDecoration.Pen>
                                    <Pen Brush="{DynamicResource HintColor}" Thickness="1" DashStyle="{StaticResource DottedUnderline}"/>
                                </TextDecoration.Pen>
                            </TextDecoration>
                        </TextBlock.TextDecorations>
                    </TextBlock>
                </StackPanel>
            </Viewbox>
        </Grid>

        <Border Background="White" CornerRadius="10" Visibility="Collapsed">
            <Border.Effect>
                <DropShadowEffect BlurRadius="4" ShadowDepth="1" Color="{DynamicResource Shadow}" Direction="270" Opacity="0.3" />
            </Border.Effect>

            <Grid>

            </Grid>
        </Border>
    </Grid>
</UserControl>
